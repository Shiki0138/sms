# 📋 テストユーザー向け包括的操作説明書

## 🎯 テスト目的
美容室統合管理システムの実用性と使いやすさを検証し、実際の美容室運営に必要な機能が正しく動作することを確認します。

---

## 🚀 クイックスタートガイド

### Step 1: システムアクセス
1. **本番環境URL**: https://salon-frontend-979081193456.asia-northeast1.run.app
2. **ローカル環境URL**: http://localhost:3000 （開発版）

### Step 2: 初回ログイン
```
【デモアカウント】
- 管理者アカウント: admin@salon.com / password123
- スタッフアカウント: staff@salon.com / staff123
```

### Step 3: 基本操作確認
1. ダッシュボード表示確認
2. メッセージ管理タブクリック
3. 顧客管理タブクリック
4. 予約管理タブクリック

---

## 📖 詳細ユーザーガイド

### 🔐 ログイン・セキュリティ
- **セキュリティ**: 2段階認証対応
- **セッション**: 8時間で自動ログアウト
- **権限管理**: 管理者・スタッフ・閲覧専用の3レベル

### 💬 メッセージ管理機能

#### Instagram DM管理
1. **メッセージ一覧表示**
   - 未対応メッセージには🔴マーク
   - 対応中メッセージには🟡マーク
   - 完了メッセージには🟢マーク

2. **返信機能**
   - 「返信」ボタンクリック
   - メッセージ入力（改行: Shift+Enter / 送信: Enter）
   - AI返信生成機能使用可能

3. **AI返信生成**
   - 🤖「AI返信」ボタンクリック
   - 自動生成されたメッセージを確認・編集
   - 必要に応じて手動修正

#### LINE管理
- Instagram DM同様の操作
- LINE専用アイコン🟢で識別
- グループメッセージにも対応

### 👥 顧客管理機能

#### 顧客情報表示
- **基本情報**: 名前、電話番号、メールアドレス
- **SNS連携**: Instagram ID、LINE ID
- **来店履歴**: 来店回数、最終来店日
- **顧客ノート**: 個別メモ・カルテ情報

#### 新規顧客登録
1. 「新規顧客登録」ボタンクリック
2. 必須項目入力（名前、連絡先）
3. SNSアカウント連携（任意）
4. 保存

#### 顧客カルテ管理
1. 顧客名クリック → 詳細表示
2. 「カルテ編集」ボタン
3. 施術履歴、好み、注意事項を記録
4. 保存

### 📅 予約管理機能

#### カレンダー表示
- **表示モード**: 日表示、3日表示、週表示、月表示
- **営業時間**: 9:00-18:00（設定変更可能）
- **定休日**: 月曜日、第2・4火曜日（設定変更可能）

#### 新規予約登録
1. カレンダーの時間枠をクリック
2. 顧客選択（既存顧客 or 新規）
3. メニュー選択
4. スタッフ選択
5. 備考入力
6. 保存

#### 予約ステータス管理
- **仮予約** 🟡: ホットペッパーからの仮予約
- **確定** 🟢: 確認済み予約
- **完了** 🔵: 施術完了
- **キャンセル** 🔴: キャンセル済み

### 📊 分析・レポート機能

#### 売上分析
- 日別・月別売上推移
- メニュー別売上分析
- スタッフ別業績
- 顧客属性分析

#### 顧客分析
- 新規・リピート率
- 来店頻度分析
- 人気メニューランキング
- 時間帯別来店分析

### ⚙️ 設定機能

#### 営業設定
- 営業時間設定
- 定休日設定
- 特別休業日設定
- タイムスロット間隔設定

#### 外部API設定
- ホットペッパービューティー連携
- Instagram API設定
- LINE Bot設定
- Google Calendar連携

---

## 🔌 外部API設定ガイド（テスト環境専用）

### ⚠️ 重要な注意事項

#### 🚫 テスト環境での制限事項
```
【重要】テスト環境では実際の外部送信は行われません

✅ 安全な動作確認:
- API設定画面の表示・操作
- 設定値の保存・編集
- 接続テスト機能（模擬応答）
- エラーハンドリングの確認

❌ 実行されない処理:
- 実際のメッセージ送信
- 外部サービスへのデータ送信
- 課金が発生する処理
- 顧客への通知送信
```

### 📱 Instagram API設定

#### 設定手順
1. **設定画面アクセス**
   ```
   設定タブ → 外部API設定 → Instagram設定
   ```

2. **テスト用設定値入力**
   ```
   アプリID: test_app_12345
   アプリシークレット: test_secret_abcde
   アクセストークン: test_token_xyz789
   ```
   
3. **接続テスト実行**
   - 「接続テスト」ボタンクリック
   - 模擬成功レスポンス確認
   - エラー処理テスト

#### テスト項目
- [ ] 設定値保存確認
- [ ] 接続状態表示確認
- [ ] エラー時の表示確認
- [ ] 設定リセット機能

#### 🔒 セキュリティ注意点
```
⚠️ テスト環境では実際のトークンを使用しないでください
✅ 提供されたテスト用ダミー値のみ使用
✅ 個人のInstagramアカウント情報は入力禁止
✅ 実際のAPIキーは入力禁止
```

### 💬 LINE Bot設定

#### 設定手順
1. **LINE設定画面**
   ```
   設定タブ → 外部API設定 → LINE Bot設定
   ```

2. **テスト用設定**
   ```
   チャンネルシークレット: test_channel_secret_123
   チャンネルアクセストークン: test_access_token_456
   Webhook URL: https://test-webhook.salon-system.com
   ```

3. **Webhook検証**
   - 「Webhook検証」ボタンクリック
   - 模擬検証結果確認
   - ステータス表示確認

#### テスト可能な機能
- [ ] Bot設定の保存・編集
- [ ] Webhook URL設定
- [ ] 接続状態監視
- [ ] エラーログ表示

#### 🛡️ テスト環境の安全性
```
✅ 実際の送信処理は無効化されています
- メッセージ送信: 模擬実行のみ
- プッシュ通知: ログ出力のみ
- 顧客への配信: 実行されません
```

### 🌐 ホットペッパービューティー連携

#### 設定手順
1. **ホットペッパー設定**
   ```
   設定タブ → 外部API設定 → ホットペッパー設定
   ```

2. **テスト用認証情報**
   ```
   API Key: test_hotpepper_key_789
   Secret Key: test_hotpepper_secret_abc
   サロンID: TEST_SALON_001
   ```

3. **データ同期テスト**
   - 「同期テスト」ボタンクリック
   - 模擬予約データ表示確認
   - 同期ログ確認

#### テスト対象機能
- [ ] 予約データ取得（模擬）
- [ ] 顧客情報同期（模擬）
- [ ] メニュー情報同期（模擬）
- [ ] エラーハンドリング

#### 🔐 データ保護
```
🚫 実際の予約システムには接続されません
✅ テスト用ダミーデータのみ使用
✅ 個人情報の外部送信なし
✅ 課金処理の実行なし
```

### 📅 Google Calendar連携

#### 設定手順
1. **Calendar設定画面**
   ```
   設定タブ → 外部API設定 → Google Calendar設定
   ```

2. **テスト用認証**
   ```
   クライアントID: test_client_id_google
   クライアントシークレット: test_client_secret
   カレンダーID: test@salon-system.com
   ```

3. **同期設定**
   - 同期方向選択（双方向/一方向）
   - 同期頻度設定
   - 除外イベント設定

#### テスト項目
- [ ] 認証フロー確認
- [ ] カレンダー選択機能
- [ ] 同期設定保存
- [ ] 同期ログ表示

### 🧪 API テスト方法

#### 1. 設定値テスト
```bash
# 設定画面での確認項目
✅ 必須項目のバリデーション
✅ 不正な値でのエラー表示
✅ 設定値の保存・読み込み
✅ 設定リセット機能
```

#### 2. 接続テスト
```bash
# 各APIの接続確認
✅ 成功時の正常レスポンス表示
✅ 失敗時のエラーメッセージ表示
✅ タイムアウト処理確認
✅ リトライ機能確認
```

#### 3. エラーハンドリングテスト
```bash
# エラー処理の確認
✅ 不正なAPIキーでのエラー
✅ ネットワークエラー時の処理
✅ レート制限エラーの処理
✅ サービス停止時の処理
```

### 🔧 トラブルシューティング（API関連）

#### よくある問題

**症状: 接続テストが失敗する**
```
確認事項:
□ インターネット接続状況
□ 設定値の入力ミス
□ テスト用値の正確性
□ ブラウザのJavaScript有効化

対処法:
1. 設定値を再入力
2. ページリロード後に再試行
3. ブラウザのコンソールエラー確認
4. サポートに画面キャプチャ送付
```

**症状: 設定が保存されない**
```
確認事項:
□ ログイン状態の確認
□ セッション期限の確認
□ 必須項目の入力
□ 権限設定の確認

対処法:
1. 再ログイン実行
2. 必須項目の再確認
3. 管理者権限でのアクセス
4. ブラウザキャッシュクリア
```

### 📊 テスト結果記録

#### API設定テスト チェックリスト
```
Instagram API:
□ 設定画面表示 ✅/❌
□ 設定値保存 ✅/❌
□ 接続テスト ✅/❌
□ エラー処理 ✅/❌

LINE Bot API:
□ 設定画面表示 ✅/❌
□ Webhook設定 ✅/❌
□ 接続確認 ✅/❌
□ ログ表示 ✅/❌

ホットペッパー API:
□ 認証設定 ✅/❌
□ データ同期テスト ✅/❌
□ エラーハンドリング ✅/❌
□ ログ確認 ✅/❌

Google Calendar API:
□ OAuth認証フロー ✅/❌
□ カレンダー選択 ✅/❌
□ 同期設定 ✅/❌
□ 権限確認 ✅/❌
```

### 🎯 API設定テストの評価ポイント

#### 使いやすさ
- [ ] 設定手順の明確性
- [ ] エラーメッセージの分かりやすさ
- [ ] 設定画面の操作性
- [ ] ヘルプ情報の充実度

#### 安全性
- [ ] 認証情報の適切な取り扱い
- [ ] エラー時の情報漏洩防止
- [ ] 不正アクセス防止機能
- [ ] 設定変更の監査ログ

#### 実用性
- [ ] 実際の運用での設定容易性
- [ ] メンテナンス作業の簡便性
- [ ] 障害時の対応手順明確性
- [ ] 設定変更の影響範囲理解

### 🚨 緊急時の連絡先

#### API関連の問題
- **技術サポート**: api-support@salon-system.com
- **緊急時**: 080-XXXX-XXXX（平日9-18時）
- **セキュリティ問題**: security@salon-system.com

#### エスカレーション手順
1. **Level 1**: 一般的な設定問題
2. **Level 2**: 接続・認証問題  
3. **Level 3**: セキュリティ・データ問題
4. **緊急**: システム停止・データ損失

---

## 🧪 テストシナリオ

### シナリオ1: 日常業務フロー（15分）
1. **朝のシステム確認**
   - ログイン
   - 当日予約確認
   - 未対応メッセージ確認

2. **新規問い合わせ対応**
   - Instagram DMで新規問い合わせ受信
   - AI返信生成を使用して返信
   - 顧客情報を新規登録

3. **予約管理**
   - 新規予約を手動登録
   - 既存予約の詳細確認
   - キャンセル処理

### シナリオ2: 顧客カルテ管理（10分）
1. **既存顧客検索**
   - 顧客名で検索
   - 電話番号で検索
   - Instagram IDで検索

2. **カルテ更新**
   - 前回施術内容確認
   - 新しい施術内容記録
   - 顧客の好み・注意事項追加

3. **施術履歴確認**
   - 過去の施術履歴閲覧
   - 使用薬剤・技術の確認
   - 次回提案メモ作成

### シナリオ3: メッセージ一括管理（10分）
1. **メッセージ優先度判別**
   - 緊急度の高いメッセージ特定
   - 予約関連メッセージの抽出
   - クレーム対応メッセージの識別

2. **効率的な返信**
   - AI返信機能の活用
   - テンプレート返信の使用
   - 個別カスタマイズ返信

3. **一括操作**
   - 複数メッセージの既読処理
   - ステータス一括変更
   - 担当者アサイン

### シナリオ4: 分析・レポート活用（10分）
1. **日次業績確認**
   - 当日売上確認
   - 予約埋まり状況チェック
   - スタッフ稼働率確認

2. **月次分析**
   - 月間売上推移
   - 人気メニュー分析
   - 顧客満足度指標

3. **改善点発見**
   - 空き時間の特定
   - 売上向上機会の発見
   - スタッフ配置最適化提案

### シナリオ5: トラブル対応（5分）
1. **システムエラー対応**
   - ページ読み込みエラー
   - 保存失敗エラー
   - 通信エラー

2. **データ整合性確認**
   - 重複予約チェック
   - 顧客情報整合性
   - メッセージ送信確認

---

## 📝 フィードバック収集方法

### 🌟 評価項目

#### 使いやすさ（1-5点評価）
- [ ] ログインの簡単さ
- [ ] 画面の見やすさ
- [ ] 操作の直感性
- [ ] レスポンス速度
- [ ] エラーの少なさ

#### 機能性（1-5点評価）
- [ ] メッセージ管理の完成度
- [ ] 顧客管理の充実度
- [ ] 予約管理の柔軟性
- [ ] 分析機能の有用性
- [ ] 設定機能の豊富さ

#### 実用性（1-5点評価）
- [ ] 実際の業務での使用可能性
- [ ] 作業効率の向上度
- [ ] 学習コストの適切さ
- [ ] 美容室業務への適合性
- [ ] 他システムからの移行容易性

### 📋 フィードバック提出方法

#### 方法1: システム内フィードバック機能
1. 右下の「フィードバック」ボタンクリック
2. カテゴリ選択（バグ報告・機能要望・改善提案）
3. 詳細記入
4. スクリーンショット添付（任意）
5. 送信

#### 方法2: 専用フォーム
- **URL**: [フィードバック専用フォーム]
- **必須項目**: テスター名、使用機能、評価、コメント
- **任意項目**: 改善提案、追加機能要望

#### 方法3: 直接連絡
- **Email**: test-feedback@salon-system.com
- **Slack**: #salon-test-feedback チャンネル
- **緊急時**: 080-XXXX-XXXX

### 🔄 フィードバック分類

#### 🚨 Priority 1: 緊急（即座に修正）
- システムクラッシュ
- データ消失
- セキュリティ問題
- 基本機能の完全停止

#### ⚠️ Priority 2: 高（1週間以内）
- 重要機能の部分的不具合
- パフォーマンス問題
- 使いやすさの重大な問題
- データ整合性の問題

#### 📋 Priority 3: 中（2週間以内）
- 軽微な表示不具合
- 機能改善提案
- 追加機能要望
- UI/UXの改善提案

#### 💡 Priority 4: 低（将来検討）
- Nice-to-have機能
- 長期的な改善案
- 新機能のアイデア
- システム拡張提案

---

## 🔧 トラブルシューティングガイド

### 🌐 接続・ログイン問題

#### 症状: ページが表示されない
**原因と対処法:**
1. **インターネット接続確認**
   ```
   ✓ Wi-Fi接続状況確認
   ✓ 他のサイトアクセス確認
   ✓ ルーター再起動
   ```

2. **ブラウザ問題**
   ```
   ✓ キャッシュクリア (Ctrl+Shift+Del)
   ✓ 別ブラウザで試行
   ✓ シークレットモードで試行
   ```

3. **URL確認**
   ```
   ✓ 正しいURL入力確認
   ✓ https:// プロトコル確認
   ✓ ブックマーク更新
   ```

#### 症状: ログインできない
**対処手順:**
1. **認証情報確認**
   - メールアドレス形式確認
   - パスワード大文字小文字確認
   - CapsLock状態確認

2. **アカウント状態確認**
   - アカウント有効性
   - パスワード期限
   - アクセス権限

3. **パスワードリセット**
   - 「パスワードを忘れた方」リンク
   - メール確認
   - 新しいパスワード設定

### 💾 データ保存問題

#### 症状: 入力内容が保存されない
**チェックポイント:**
1. **ネットワーク接続**
   - 安定したインターネット接続確認
   - 通信速度テスト実行

2. **セッション確認**
   - ログイン状態確認
   - セッション期限チェック
   - 再ログイン実行

3. **ブラウザ設定**
   - JavaScript有効化確認
   - クッキー許可設定
   - ポップアップブロック解除

### 📱 表示・操作問題

#### 症状: 画面レイアウトが崩れる
**対応方法:**
1. **ブラウザ更新**
   - ページリロード (F5)
   - 強制リロード (Ctrl+F5)
   - ブラウザ最新版確認

2. **画面サイズ調整**
   - ズーム設定確認 (100%推奨)
   - ウィンドウサイズ調整
   - モバイル表示切り替え

3. **ブラウザキャッシュ**
   - キャッシュクリア実行
   - 一時ファイル削除
   - ブラウザ再起動

#### 症状: ボタンが反応しない
**確認事項:**
1. **JavaScript有効確認**
2. **アドブロッカー無効化**
3. **セキュリティソフト設定確認**
4. **ブラウザ拡張機能無効化**

### 📊 機能別トラブル

#### メッセージ機能
- **送信失敗**: ネットワーク接続、文字数制限確認
- **文字化け**: 文字エンコーディング、ブラウザ設定確認
- **添付失敗**: ファイルサイズ、形式確認

#### 予約機能
- **予約重複**: 時間枠確認、既存予約チェック
- **カレンダー表示**: 日付範囲、権限設定確認
- **通知不備**: メール設定、通知設定確認

#### 顧客管理
- **検索失敗**: 検索条件、データ同期確認
- **更新不可**: 編集権限、データロック確認
- **重複登録**: 既存顧客確認、統合処理

### 🆘 緊急時対応

#### システム完全停止時
1. **即座に報告**: 080-XXXX-XXXX
2. **現象記録**: スクリーンショット撮影
3. **代替手段**: 手動業務への切り替え
4. **顧客対応**: 代替連絡手段準備

#### データ消失疑い時
1. **操作停止**: 追加入力・操作停止
2. **状況保存**: ブラウザ状態維持
3. **即座に連絡**: データ復旧チーム
4. **ログ記録**: 操作履歴の詳細記録

---

## 📚 テスト手順書

### 🎯 テスト実行計画

#### Phase 1: 基本機能テスト（第1週）
**目的**: 基幹機能の動作確認
**参加者**: 5名（管理者1名、スタッフ4名）
**期間**: 5営業日

**テスト内容:**
1. **ログイン・セキュリティ機能**
   - [ ] ログイン成功
   - [ ] ログイン失敗処理
   - [ ] セッション管理
   - [ ] パスワード変更

2. **メッセージ管理基本機能**
   - [ ] メッセージ一覧表示
   - [ ] 返信機能
   - [ ] ステータス管理
   - [ ] 検索・フィルタ

3. **顧客管理基本機能**
   - [ ] 顧客一覧表示
   - [ ] 新規登録
   - [ ] 情報編集
   - [ ] 検索機能

4. **予約管理基本機能**
   - [ ] カレンダー表示
   - [ ] 予約登録
   - [ ] 予約編集
   - [ ] ステータス変更

#### Phase 2: 統合機能テスト（第2週）
**目的**: 機能間連携の確認
**参加者**: 8名（全スタッフ）
**期間**: 5営業日

**テスト内容:**
1. **顧客-メッセージ連携**
   - [ ] 顧客情報からメッセージ履歴確認
   - [ ] メッセージから顧客詳細表示
   - [ ] メッセージ送信と顧客記録更新

2. **予約-顧客連携**
   - [ ] 予約時顧客自動選択
   - [ ] 顧客履歴から予約状況確認
   - [ ] 予約完了後カルテ更新

3. **AI機能連携**
   - [ ] AI返信生成の精度
   - [ ] 顧客情報に基づく返信内容
   - [ ] 学習機能の動作

#### Phase 3: 実運用テスト（第3週）
**目的**: 実際の業務での運用確認
**参加者**: 20名（スタッフ+テスト顧客）
**期間**: 7日間

**テスト内容:**
1. **実顧客データでの運用**
   - [ ] 実際の予約受付
   - [ ] リアルタイムメッセージ対応
   - [ ] 日々の業務記録

2. **負荷テスト**
   - [ ] 同時接続20名
   - [ ] ピーク時間帯の動作
   - [ ] データベース負荷

3. **障害対応テスト**
   - [ ] ネットワーク断線時の動作
   - [ ] データ同期失敗時の復旧
   - [ ] エラー処理の適切性

### 📋 テスト実行チェックリスト

#### 事前準備
- [ ] テスト環境アクセス確認
- [ ] テストアカウント準備
- [ ] テストデータ準備
- [ ] 評価シート準備
- [ ] 連絡体制確立

#### 実行中チェック
- [ ] 開始時間・終了時間記録
- [ ] 発見事項の即座記録
- [ ] スクリーンショット収集
- [ ] パフォーマンス測定
- [ ] ユーザー行動観察

#### 事後処理
- [ ] テスト結果まとめ
- [ ] 問題点の優先度付け
- [ ] 改善提案作成
- [ ] 次回テスト計画策定
- [ ] ステークホルダー報告

### 🎖️ テスト完了基準

#### 機能完了基準
- [ ] 全基本機能が正常動作
- [ ] 重大なバグが存在しない
- [ ] パフォーマンスが許容範囲内
- [ ] セキュリティ要件を満たす
- [ ] ユーザビリティスコア4.0以上

#### 品質完了基準
- [ ] テストカバレッジ90%以上
- [ ] 顧客満足度4.0以上
- [ ] 操作エラー率5%以下
- [ ] システム可用性99%以上
- [ ] データ整合性100%

---

## 🎉 テスト成功のための重要ポイント

### 💡 効果的なテスト実行のコツ
1. **実際の業務フローに沿ったテスト**
2. **複数のスタッフによる同時テスト**
3. **異なる時間帯でのテスト実行**
4. **想定外の操作パターンも試行**
5. **継続的なフィードバック収集**

### 🎯 重要な検証ポイント
1. **データの一貫性と正確性**
2. **ユーザーインターフェースの直感性**
3. **レスポンス時間とパフォーマンス**
4. **エラーハンドリングの適切性**
5. **セキュリティとプライバシー保護**

### 📞 サポート体制
- **平日 9:00-18:00**: 即座対応
- **土日祝**: 緊急時のみ対応
- **夜間**: メール・チャットで対応

---

## 📅 テストスケジュール

| 期間 | フェーズ | 参加者数 | 主要目標 |
|------|---------|----------|----------|
| 第1週 | 基本機能テスト | 5名 | 機能動作確認 |
| 第2週 | 統合機能テスト | 8名 | 機能連携確認 |
| 第3週 | 実運用テスト | 20名 | 実用性検証 |
| 第4週 | 総合評価・改善 | - | 最終調整 |

## 🏆 成功指標

- **システム安定性**: 99%以上の稼働率
- **ユーザー満足度**: 平均4.0以上
- **業務効率向上**: 30%以上の作業時間短縮
- **エラー発生率**: 5%以下
- **機能完成度**: 全必須機能の正常動作

---

**📞 問い合わせ先:**
- Email: support@salon-system.com
- 電話: 080-XXXX-XXXX
- チャット: システム内サポート機能

**📝 更新履歴:**
- v1.0 - 2025/06/19 - 初版作成
- 最終更新: 2025/06/19